!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Lavender")):"function"==typeof define&&define.amd?define("LotusMVW",["Lavender"],e):"object"==typeof exports?exports.LotusMVW=e(require("Lavender")):t.LotusMVW=e(t.Lavender)}(this,function(__WEBPACK_EXTERNAL_MODULE_0__){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=27)}([function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(e,n,i){var r=t.call(this)||this;return r._label=e,r._instance=n,r._attribute=i,r}return i(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._instance[this._attribute]},set:function(t){this._instance[this._attribute]=t,this.notify(t,"element")},enumerable:!0,configurable:!0}),e}(r.Subject);e.SkinPart=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(15),s=n(3),a=function(t){function e(){var n=t.call(this)||this;return n._ready=!1,n._id=Math.random(),n._skinParts=new o.SkinPartList,r.ObjectUtils.mixin(r.EventDispatcher,e,n),n}return i(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this._element=t,null!==this._element&&void 0!==this._element&&(this._element.getComponentInstance=this.getComponentInstance.bind(this)),this.notify(t,"element")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.notify(t,"context")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(t){this._ready=t,this.notify(t,"ready")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.notify(t,"id")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skinParts",{get:function(){return this._skinParts},set:function(t){this._skinParts=t,this.notify(t,"skinParts")},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.addAttributes(),this.defineSkinParts(),this.addSkinParts()},e.prototype.addAttributes=function(){for(var t=0;t<this.element.attributes.length;t++){var e=this.element.attributes[t];if(e.name.indexOf("attribute")>=0){var n=e.name.indexOf("attribute")+10,i=e.name.substring(n),r=i.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()});this.getAllPropertyNames(this).indexOf(r)>=0&&(this[r]=e.value)}}},e.prototype.getAllPropertyNames=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var i=[];do{if(e&&Object.getOwnPropertyNames(t).forEach(function(t){-1===i.indexOf(t)&&i.push(t)}),!n)break;e=!0}while(t=Object.getPrototypeOf(t));return i},e.prototype.addSkinParts=function(){null!==this.element.getAttribute("data-skin-part")&&void 0!==this.element.getAttribute("data-skin-part")&&this.addSkinPart(this.element.getAttribute("data-skin-part"),this.element);for(var t=this.element.querySelectorAll("[data-skin-part]"),e=0;e<t.length;e++)this.addSkinPart(t[e].getAttribute("data-skin-part"),t[e])},e.prototype.addSkinPart=function(t,e){if(null===this.skinParts.skinPartsByLabel[t]||void 0===this.skinParts.skinPartsByLabel[t])return null;this.skinParts.skinPartsByLabel[t].element=e,this.onSkinPartAdded(t,this.skinParts.skinPartsByLabel[t].element)},e.prototype.onReady=function(){this.ready=!0,this.dispatch(new s.ComponentEvent(s.ComponentEvent.READY))},e.prototype.getComponentInstance=function(){return this},e.prototype.created=function(t){console.log("AbstractComponent.created called"),this.element=t,this.init(),this.onReady()},e.prototype.destroy=function(){this.removeEventListeners(),this.binder.unbindAll(),this.binder=null,this.element=null,this.id=null},e.prototype.defineSkinParts=function(){},e.prototype.onSkinPartAdded=function(t,e){},e.prototype.inserted=function(t){console.log("AbstractComponent.inserted called")},e.prototype.removed=function(t){console.log("AbstractComponent.removed called")},e.prototype.attributeChanged=function(t){console.log("AbstractComponent.attributeChanged called")},e.prototype.addEventListeners=function(){},e.prototype.removeEventListeners=function(){},e}(r.Subject);e.AbstractComponent=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype.clone=function(t,n){return new e(this.type,this.payload)},e.READY="lotusComponentReady",e}(r.AbstractEvent);e.ComponentEvent=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(n,i){var r=t.call(this,n,i)||this;if(n==e.ITEM_SELECTED&&(!i.hasOwnProperty("item")||null===i.item||void 0===i.item))throw new Error("Lotus.ItemViewEvent payload.item is required");return r}return i(e,t),e.prototype.clone=function(t,n){return new e(this.type,this.payload)},e.ITEM_SELECTED="itemViewItemSelected",e.ITEM_DESELECTED="itemViewItemDeselected",e.REMOVE_ITEM="itemViewRemoveItem",e}(r.AbstractEvent);e.ItemViewEvent=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(3),s=function(t){function e(e,n){var i=t.call(this)||this;return i.id=r.UuidUtils.generateUUID(),i.componentInstance=e,i.context=n,i.componentInstance.ready?i.init():i.componentInstance.addEventListener(o.ComponentEvent.READY,i,"init"),i}return i(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.notify(t,"id")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._componentInstance},set:function(t){this._componentInstance=t,this.notify(t,"componentInstance")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.notify(t,"context")},enumerable:!0,configurable:!0}),e.prototype.addEventListeners=function(){},e.prototype.removeEventListeners=function(){this.componentInstance.canListen(o.ComponentEvent.READY,this,"init")&&this.componentInstance.removeEventListener(o.ComponentEvent.READY,this,"init")},e.prototype.setUpBindings=function(){},e.prototype.removeBindings=function(){this.binder.unbindAll()},e.prototype.toString=function(){return this.id},e.prototype.init=function(){this.addEventListeners(),this.setUpBindings()},e.prototype.destroy=function(){this.removeEventListeners(),this.removeBindings(),this.id=null,this.componentInstance=null},e}(r.Subject);e.AbstractMediator=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(8),s=n(7),a=function(t){function e(e){var n=t.call(this)||this;return n.context=e,n.service=e.injector.inject("service"),n.parser=e.injector.inject("parser"),n.opModel=e.injector.inject("opModel"),n.errorModel=e.injector.inject("errorModel"),n}return i(e,t),e.prototype.execute=function(t){return null!==this.service&&void 0!==this.service&&null!==this.opModel&&void 0!==this.opModel&&null!==this.parser&&void 0!==this.parser||this.executionError(),this.opModel.asyncOperationComplete=!1,this.opModel.asyncOperationCount+=1,this.executeServiceMethod()},e.prototype.executeServiceMethod=function(){return null},e.prototype.parseResponse=function(t){return null},e.prototype.dispatchSuccess=function(t){var e=new o.ActionSuccessEvent(o.ActionSuccessEvent.SUCCESS,{result:t});this.dispatch(e)},e.prototype.success=function(t){try{var e=this.parseResponse(t);this.dispatchSuccess(e)}catch(t){var n=this.getErrorMessage()+"\n"+t.message+"\n"+t.stack,i=new s.ActionErrorEvent(s.ActionErrorEvent.ERROR,{message:n});this.dispatch(i);var r={name:"error",message:n};this.errorModel.errors.addItem(r),this.errorModel.appError=!0}finally{this.opModel.asyncOperationCount-=1,0==this.opModel.asyncOperationCount&&(this.opModel.asyncOperationComplete=!0),this.destroy()}},e.prototype.fault=function(t){this.opModel.asyncOperationCount-=1,0==this.opModel.asyncOperationCount&&(this.opModel.asyncOperationComplete=!0);var e=this.getFaultString()+t.message,n=new s.ActionErrorEvent(s.ActionErrorEvent.ERROR,{message:e});this.dispatch(n);var i={name:t.status,message:e};this.errorModel.errors.addItem(i),this.errorModel.appError=!0,this.destroy()},e.prototype.onProgress=function(t){},e.prototype.getFaultString=function(){return null},e.prototype.getErrorMessage=function(){return null},e.prototype.executionError=function(){var t=this.getExecErrorString();throw null!==this.service&&void 0!==this.service||(t+=" service"),(null===this.opModel||this.opModel)&&(t+=", opModel"),null!==this.parser&&void 0!==this.parser||(t+=", parser"),t+=".",new Error(t)},e.prototype.getExecErrorString=function(){return"Lavender.AbstractServiceAction.prototype.executionError: the following are required: "},e.prototype.destroy=function(){this.canListen(s.ActionErrorEvent.ERROR,this,"onError")&&this.removeEventListener(s.ActionErrorEvent.ERROR,this,"onError"),this.canListen(o.ActionSuccessEvent.SUCCESS,this,"onSuccess")&&this.removeEventListener(o.ActionSuccessEvent.SUCCESS,this,"onSuccess"),this.context=null,this.opModel=null,this.service=null,this.parser=null,this.errorModel=null},e}(r.EventDispatcher);e.AbstractCommand=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(!n||null===n.message||void 0===n.message)throw new Error("Lavender.ActionErrorEvent: payload.message is required");return i}return i(e,t),e.prototype.clone=function(t,n){return new e(this.type,this.payload)},e.ERROR="actionError",e}(r.AbstractEvent);e.ActionErrorEvent=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(null===n||void 0===n)throw new Error("Lavender.ActionSuccessEvent: payload is required");return i}return i(e,t),e.prototype.clone=function(t,n){return new e(this.type,this.payload)},e.SUCCESS="actionSuccess",e}(r.AbstractEvent);e.ActionSuccessEvent=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(10),s=function(t){function e(e){var n=t.call(this)||this;return n.config=e,n.serviceMap=e.hasOwnProperty("serviceMap")?e.serviceMap:{echoJSON:":3000/echoJSON/key/{0}",localRequest:":3000/printondemand/1234/photos/{0}"},n}return i(e,t),e.prototype.getURLWithParams=function(t,e){return null!==e&&void 0!==e?r.StringUtil.substitute(this.getURL(t),e):this.getURL(t)},e.prototype.getURL=function(t){return this.config.baseUrl+this.serviceMap[t]},e.prototype.echoJSON=function(t,e,n,i,r,o,s){void 0===i&&(i={}),void 0===r&&(r="json"),void 0===o&&(o="application/json"),void 0===s&&(s=!1);var a=this.getURLWithParams(e,[t]);return this.sendRequest(!0,n,a,i,r,o,s)},e.prototype.testRequestUsingIncludedAPI=function(t,e,n,i,r){void 0===n&&(n="json"),void 0===i&&(i="application/json"),void 0===r&&(r=!1);var o=this.getURLWithParams(t,["54232fc2-7345-4921-8079"]);return this.sendRequest(!1,e,o,null,n,i,r)},e.prototype.sendRequest=function(t,e,n,i,r,s,a){void 0===i&&(i={}),void 0===r&&(r="json"),void 0===s&&(s="application/json"),void 0===a&&(a=!1);var c=JSON.stringify(i);null!==a&&void 0!==a||(a=!1);var l=o.HttpServiceFactory.getInstance().getHttpService(this.config.serviceCode);l.addResponder(e);var u=t?"POST":"GET";return l.send(u,n,c,s,r,a)},e}(r.AbstractHttpService);e.SampleService=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){if(null!=t.INSTANCE)throw"HttpServiceFactory.INSTANCE: Singleton class has already been instantiated"}return t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.prototype.getHttpService=function(t){void 0===t&&(t="Lavender.XhrHttpService");var e;switch(t){case"Lavender.XhrHttpService":default:e=new i.XhrHttpService}return e},t.INSTANCE=null,t}();e.HttpServiceFactory=r},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Lavender=__webpack_require__(0),AbstractComponent_1=__webpack_require__(2),SkinPart_1=__webpack_require__(1),ItemViewEvent_1=__webpack_require__(4),AbstractCollectionView=function(_super){function AbstractCollectionView(){var t=_super.call(this)||this;return t._childViews=new Lavender.ArrayList,t}return __extends(AbstractCollectionView,_super),Object.defineProperty(AbstractCollectionView.prototype,"collectionContainer",{get:function(){return this._collectionContainer},set:function(t){this._collectionContainer=t,this.notify(t,"collectionContainer")},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractCollectionView.prototype,"itemTemplate",{get:function(){return this._itemTemplate},set:function(t){this._itemTemplate=t,this.notify(t,"itemTemplate")},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractCollectionView.prototype,"selectedItem",{get:function(){return this._selectedItem},set:function(t){this._selectedItem=t,this.notify(t,"selectedItem")},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractCollectionView.prototype,"collection",{get:function(){return this._collection},set:function(t){this.removeCollectionEventListeners(),this._collection=t,t&&this.addCollectionEventListeners(),this.notify(t,"collection")},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractCollectionView.prototype,"childViews",{get:function(){return this._childViews},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractCollectionView.prototype,"itemView",{get:function(){return this._itemView},set:function(t){this._itemView=t,this.notify(t,"itemView")},enumerable:!0,configurable:!0}),AbstractCollectionView.prototype.destroyChildViews=function(){for(var t=0;t<this.childViews.length;t++)this.removeChildView(this.childViews.getItemAt(t));if(null!==this.collectionContainer&&void 0!==this.collectionContainer)for(;this.collectionContainer.firstChild;)this.collectionContainer.removeChild(this.collectionContainer.firstChild);else for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this._childViews=null},AbstractCollectionView.prototype.addCollectionEventListeners=function(){null!==this.collection&&void 0!==this.collection&&this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE,this,"onCollectionChange")},AbstractCollectionView.prototype.removeCollectionEventListeners=function(){null!==this.collection&&void 0!==this.collection&&this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE,this,"onCollectionChange")},AbstractCollectionView.prototype.onCollectionChange=function(t){switch(t.payload.type){case"add":this.addChildView(t.payload.item);break;case"remove":this.removeChildViewFromModel(t.payload.item);break;case"removeAll":this.removeAllChildViews()}},AbstractCollectionView.prototype.createChildView=function(model){var evalClass=eval(this.itemView);return new evalClass},AbstractCollectionView.prototype.addChildView=function(t){var e=this.createChildView(t),n=this.itemTemplate.cloneNode(!0);e.model=t,e.element=n,e.init(),this.childViews.addItem(e),null!==this.collectionContainer&&void 0!==this.collectionContainer?this.collectionContainer.appendChild(e.element):this.element.appendChild(e.element),this.addViewEventListeners(e)},AbstractCollectionView.prototype.addViewEventListeners=function(t){t.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,this,"onItemSelectedDeselect"),t.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED,this,"onItemSelectedDeselect"),t.addEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM,this,"onItemRemove")},AbstractCollectionView.prototype.removeViewEventListeners=function(t){t.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,this,"onItemSelectedDeselect"),t.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED,this,"onItemSelectedDeselect"),t.removeEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM,this,"onItemRemove")},AbstractCollectionView.prototype.onItemSelectedDeselect=function(t){null!==this.selectedItem&&void 0!==this.selectedItem&&this.selectedItem!=t.payload.item&&this.selectedItem.resetState(),this.selectedItem=t.type==ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED?t.payload.item:null},AbstractCollectionView.prototype.onItemRemove=function(t){var e=this.collection.indexOf(t.payload.item.model);e>=0&&this.collection.removeItemAt(e)},AbstractCollectionView.prototype.addAllChildViews=function(t){for(var e=0;e<t.length;e++)this.addChildView(t[e])},AbstractCollectionView.prototype.removeAllChildViews=function(){for(var t=this.childViews.length-1;t>=0;t--)this.removeChildView(this.childViews.getItemAt(t))},AbstractCollectionView.prototype.removeChildView=function(t){this.removeViewEventListeners(t),this.removeElement(t.element),t.destroy(),this.childViews.removeItemAt(this.childViews.indexOf(t))},AbstractCollectionView.prototype.removeElement=function(t){null!==this.collectionContainer&&void 0!==this.collectionContainer?this.collectionContainer.removeChild(t):this.element.removeChild(t)},AbstractCollectionView.prototype.removeChildViewFromModel=function(t){for(var e=0;e<this.childViews.length;e++)if(this.childViews.getItemAt(e).model==t){this.removeChildView(this.childViews.getItemAt(e));break}},AbstractCollectionView.prototype.initCollection=function(){null!==this.collection&&void 0!==this.collection||(this.collection=this.getCollection())},AbstractCollectionView.prototype.init=function(){_super.prototype.init.call(this),this.initCollection(),this.render()},AbstractCollectionView.prototype.render=function(){if(null===this.itemView||void 0==this.itemView)throw Error("data-attribute-item-view must be defined on the tag instance and point to a valid constructor");for(var t=0;t<this.collection.length;t++)this.addChildView(this.collection.getItemAt(t))},AbstractCollectionView.prototype.defineSkinParts=function(){_super.prototype.defineSkinParts.call(this),this.skinParts.addItem(new SkinPart_1.SkinPart("collectionContainer",this,"collectionContainer")),this.skinParts.addItem(new SkinPart_1.SkinPart("itemTemplate",this,"itemTemplate"))},AbstractCollectionView.prototype.onSkinPartAdded=function(t,e){switch(_super.prototype.onSkinPartAdded.call(this,t,e),t){case"itemTemplate":e.parentNode.removeChild(e)}},AbstractCollectionView.prototype.getCollection=function(){return new Lavender.ArrayList},AbstractCollectionView.prototype.destroy=function(){this.destroyChildViews(),_super.prototype.destroy.call(this),this.collection=null,this.itemView=null,this.collectionContainer=null,this.itemTemplate=null,this.selectedItem=null},AbstractCollectionView}(AbstractComponent_1.AbstractComponent);exports.AbstractCollectionView=AbstractCollectionView},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(t){this._model=t,this.onModelChange(t),this.notify(t,"model")},enumerable:!0,configurable:!0}),e.prototype.setElementDisplay=function(t,e){null!==t&&void 0!==t&&(t.style.display=e)},e.prototype.onModelChange=function(t){},e.prototype.resetState=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.model=null},e}(r.AbstractComponent);e.AbstractItemView=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),s=n(11),a=function(t){function e(){var e=t.call(this)||this;return e.nextBtn=null,e.pervBtn=null,e.firstBtn=null,e.lastBtn=null,e}return i(e,t),Object.defineProperty(e.prototype,"recordSet",{get:function(){return this._recordSet},set:function(t){this.removeCollectionEventListeners(),this._recordSet=t,this.addCollectionEventListeners(),this.notify(t,"recordSet")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"navBtnEnabledClass",{get:function(){return this._navBtnEnabledClass},set:function(t){this._navBtnEnabledClass=t,this.notify(t,"navBtnEnabledClass")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"navBtnDisabledClass",{get:function(){return this._navBtnDisabledClass},set:function(t){this._navBtnDisabledClass=t,this.notify(t,"navBtnDisabledClass")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextBtn",{get:function(){return this._nextBtn},set:function(t){this._nextBtn=t,this.notify(t,"nextBtn")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pervBtn",{get:function(){return this._pervBtn},set:function(t){this._pervBtn=t,this.notify(t,"pervBtn")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBtn",{get:function(){return this._firstBtn},set:function(t){this._firstBtn=t,this.notify(t,"firstBtn")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastBtn",{get:function(){return this._lastBtn},set:function(t){this._lastBtn=t,this.notify(t,"lastBtn")},enumerable:!0,configurable:!0}),e.prototype.addCollectionEventListeners=function(){null!==this.recordSet&&void 0!==this.recordSet&&(this.recordSet.addEventListener(r.RecordSetEvent.RESULTS_CHANGE,this,"onResultsChange"),this.binder.bind(this.recordSet,"pageList",this,"onPageListChange",null,null,"pageListChaneHandler"))},e.prototype.removeCollectionEventListeners=function(){null!==this.recordSet&&void 0!==this.recordSet&&this.recordSet.removeEventListener(r.RecordSetEvent.RESULTS_CHANGE,this,"onResultsChange"),null!==this.binder&&void 0!==this.binder&&this.binder.unbind("pageListChaneHandler")},e.prototype.onClickHandler=function(t){switch(t.currentTarget.getAttribute("data-skin-part")){case"nextBtn":if(this.recordSet.selectedPage+1>this.recordSet.totalPages)return;this.recordSet.selectedPage+=1;break;case"pervBtn":if(this.recordSet.selectedPage-1<1)return;this.recordSet.selectedPage-=1;break;case"firstBtn":this.recordSet.selectedPage=1;break;case"lastBtn":this.recordSet.selectedPage=this.recordSet.totalPages}this.nextBtn&&this.refreshNavButtonDisplay(this.nextBtn,"next"),this.pervBtn&&this.refreshNavButtonDisplay(this.pervBtn,"prev"),this.firstBtn&&this.refreshNavButtonDisplay(this.firstBtn,"prev"),this.lastBtn&&this.refreshNavButtonDisplay(this.lastBtn,"next")},e.prototype.refreshNavButtonDisplay=function(t,e){t.classList.contains(this.navBtnDisabledClass)&&t.classList.remove(this.navBtnDisabledClass),t.classList.contains(this.navBtnEnabledClass)&&t.classList.remove(this.navBtnEnabledClass);var n;n="next"===e?this.recordSet.selectedPage+1>this.recordSet.totalPages?this.navBtnDisabledClass:this.navBtnEnabledClass:this.recordSet.selectedPage-1<1?this.navBtnDisabledClass:this.navBtnEnabledClass,t.classList.add(n)},e.prototype.onResultsChange=function(t){this.render()},e.prototype.onPageListChange=function(t){this.render()},e.prototype.initCollection=function(){null!==this.recordSet&&void 0!==this.recordSet||(this.recordSet=new r.RecordSet)},e.prototype.defineSkinParts=function(){t.prototype.defineSkinParts.call(this),this.skinParts.addItem(new o.SkinPart("nextBtn",this,"nextBtn")),this.skinParts.addItem(new o.SkinPart("pervBtn",this,"pervBtn")),this.skinParts.addItem(new o.SkinPart("firstBtn",this,"firstBtn")),this.skinParts.addItem(new o.SkinPart("lastBtn",this,"lastBtn"))},e.prototype.onSkinPartAdded=function(e,n){switch(t.prototype.onSkinPartAdded.call(this,e,n),e){case"nextBtn":this.nextBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"pervBtn":this.pervBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"firstBtn":this.firstBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"lastBtn":this.lastBtn.addEventListener("click",this.onClickHandler.bind(this))}null!==n.getAttribute("data-enabledClass")&&void 0!==n.getAttribute("data-enabledClass")&&(this.navBtnEnabledClass=n.getAttribute("data-enabledClass")),null!==n.getAttribute("data-disabled-class")&&void 0!==n.getAttribute("data-disabled-class")&&(this.navBtnDisabledClass=n.getAttribute("data-disabled-class"))},e.prototype.render=function(){if(null===this.itemView||void 0==this.itemView)throw Error("data-attribute-item-view must be defined on the tag instance and point to a valid constructor");if(this.removeAllChildViews(),this.nextBtn&&this.refreshNavButtonDisplay(this.nextBtn,"next"),this.pervBtn&&this.refreshNavButtonDisplay(this.pervBtn,"prev"),this.firstBtn&&this.refreshNavButtonDisplay(this.firstBtn,"prev"),this.lastBtn&&this.refreshNavButtonDisplay(this.lastBtn,"next"),null!==this.recordSet.pageList&&void 0!==this.recordSet.pageList){for(var t=0;t<this.recordSet.pageList.length;t++){var e=this.recordSet.pageList.getItemAt(t);this.addChildView(e)}this.selectedItem=null}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.nextBtn&&this.nextBtn.removeEventListener("click",this.onClickHandler),this.pervBtn&&this.pervBtn.removeEventListener("click",this.onClickHandler),this.firstBtn&&this.firstBtn.removeEventListener("click",this.onClickHandler),this.lastBtn&&this.lastBtn.removeEventListener("click",this.onClickHandler),this.recordSet.destroy(),this.navBtnEnabledClass=null,this.navBtnDisabledClass=null,this.nextBtn=null,this.pervBtn=null,this.firstBtn=null,this.lastBtn=null,this.recordSet=null},e}(s.AbstractCollectionView);e.AbstractRecordSetCollectionView=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(12),s=n(1),a=n(4),c=function(t){function e(){var e=t.call(this)||this;return e._allowDrag=!0,e}return i(e,t),Object.defineProperty(e.prototype,"thumbWidth",{get:function(){return this._thumbWidth},set:function(t){this._thumbWidth=t,this.notify(t,"thumbWidth")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbHeight",{get:function(){return this._thumbHeight},set:function(t){this._thumbHeight=t,this.notify(t,"thumbHeight")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnail",{get:function(){return this._thumbnail},set:function(t){this._thumbnail=t,this.notify(t,"thumbnail")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnailContainer",{get:function(){return this._thumbnailContainer},set:function(t){this._thumbnailContainer=t,this.notify(t,"thumbnailContainer")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDrag",{get:function(){return this._allowDrag},set:function(t){this._allowDrag=t,this.notify(t,"allowDrag")},enumerable:!0,configurable:!0}),e.prototype.sizeImage=function(){if(null!==this.thumbnail&&void 0!==this.thumbnail){var t=this.getDefaultSize(),e=this.getContainerSize(),n=r.ResizeUtils.getScaleToFit(t,e),i=t.width*n,o=t.height*n;this.thumbnail.setAttribute("width",i+"px"),this.thumbnail.setAttribute("height",o+"px"),this.thumbnail.style.maxWidth=e.width+"px",this.thumbnail.style.maxHeight=e.height+"px"}},e.prototype.onThumbClick=function(t){this.resetState()},e.prototype.onDragStart=function(t){},e.prototype.getImageURL=function(){return this.model.thumbUrl},e.prototype.getDefaultSize=function(){return{width:parseInt(this.thumbnail.getAttribute("width")),height:parseInt(this.thumbnail.getAttribute("height"))}},e.prototype.getContainerSize=function(){var t=null!==this.thumbnailContainer&&void 0!==this.thumbnailContainer?{width:parseInt(window.getComputedStyle(this.thumbnailContainer).width),height:parseInt(window.getComputedStyle(this.thumbnailContainer).height)}:{width:NaN,height:NaN};return isNaN(parseInt(this.thumbWidth))||isNaN(parseInt(this.thumbWidth))||(t={width:parseInt(this.thumbWidth),height:parseInt(this.thumbHeight)}),t},e.prototype.addEventListeners=function(){t.prototype.addEventListeners.call(this),null!==this.thumbnail&&void 0!==this.thumbnail&&(this.thumbnail.setAttribute("draggable",this.allowDrag?"true":"false"),this.thumbnail.addEventListener("click",this.onThumbClick.bind(this)),this.thumbnail.addEventListener("dragstart",this.onDragStart.bind(this)))},e.prototype.removeEventListeners=function(){t.prototype.removeEventListeners.call(this),null!==this.thumbnail&&void 0!==this.thumbnail&&(this.thumbnail.removeEventListener("click",this.onThumbClick),this.thumbnail.removeEventListener("dragstart",this.onDragStart))},e.prototype.defineSkinParts=function(){t.prototype.defineSkinParts.call(this),this.skinParts.addItem(new s.SkinPart("thumbnail",this,"thumbnail")),this.skinParts.addItem(new s.SkinPart("thumbnailContainer",this,"thumbnailContainer"))},e.prototype.onSkinPartAdded=function(e,n){switch(t.prototype.onSkinPartAdded.call(this,e,n),e){case"thumbnail":this._thumbnailDisplay=this.thumbnail.style.display,this.thumbnail.onload=function(t){this.thumbnail&&(this.thumbnail.onload=null,this.thumbnail.style.display=this._thumbnailDisplay,this.sizeImage())}.bind(this),this.thumbnail.style.display="none",this.thumbnail.src=this.getImageURL(),this.addEventListeners();break;case"thumbnailContainer":this._thumbnailSelectedClass=this.thumbnailContainer.getAttribute("selected-class")}},e.prototype.resetState=function(){this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);var t=this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass)?a.ItemViewEvent.ITEM_SELECTED:a.ItemViewEvent.ITEM_DESELECTED;this.dispatch(new a.ItemViewEvent(t,{item:this}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEventListeners(),this.thumbnail=null,this.thumbnailContainer=null,this._thumbnailSelectedClass=null},e}(o.AbstractItemView);e.AbstractThumbnailView=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){function e(e,n){void 0===n&&(n=!0);var i=t.call(this,e,n)||this;return i.skinPartsByLabel={},i}return i(e,t),e.prototype.addItem=function(e,n,i){var r=t.prototype.addItem.call(this,e,n,i);return this.skinPartsByLabel[e.label]=e,r},e.prototype.clear=function(){t.prototype.clearHash.call(this,this.skinPartsByLabel),t.prototype.clear.call(this)},e.prototype.removeItemAt=function(e){var n=this.getItemAt(e);t.prototype.removeItemFromHash.call(this,this.skinPartsByLabel,n.label),t.prototype.removeItemAt.call(this,e)},e.prototype.insert=function(e,n,i,r,o,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var a=t.prototype.insert.call(this,e,n,i,r,o,s);return this.skinPartsByLabel[e.label]=e,a},e}(r.ArrayList);e.SkinPartList=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.executeServiceMethod=function(){return this.service.testRequestUsingIncludedAPI("localRequest",this)},e.prototype.parseResponse=function(t){return this.parser.parse(t)},e.prototype.getFaultString=function(){return"Lotus.SampleCommand a service request error occured"},e.prototype.getErrorMessage=function(){return"Lotus.SampleCommand an execution error occured "},e.prototype.getExecErrorString=function(){return"Lotus.SampleCommand the following are required: "},e}(r.AbstractCommand);e.SampleCommand=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){if(null!=t.INSTANCE)throw"EventDispatcherFactory.INSTANCE: Singleton class has already been instantiated"}return t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.prototype.getEventDispatcher=function(t){void 0===t&&(t="Lavender.EventDispatcher");var e;switch(t){case"Lavender.EventDispatcher":default:e=new i.EventDispatcher}return e},t.INSTANCE=null,t}();e.EventDispatcherFactory=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){if(null!=t.INSTANCE)throw"SerializeFactory.INSTANCE: Singleton class has already been instantiated"}return t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.prototype.getServiceResultParser=function(t){var e;switch(t){case"local":case"remote":default:e={}}return e},t.prototype.getServiceExporter=function(t){var e;switch(t){case"local":case"remote":default:e={}}return e},t.INSTANCE=null,t}();e.SerializeFactory=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(){if(null!=t.INSTANCE)throw"ServiceFactory.INSTANCE: Singleton class has already been instantiated"}return t.getInstance=function(){return null==t.INSTANCE&&(t.INSTANCE=new t),t.INSTANCE},t.prototype.getService=function(t){return t.serviceCode,new i.SampleService(t)},t.INSTANCE=null,t}();e.ServiceFactory=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(t){function e(e,n){return console.log("ButtonMediator constructor called"),t.call(this,e,n)||this}return i(e,t),e.prototype.onClick=function(t){console.log("Im the button mediator, I can handle the component click and dispatch an application event.")},e.prototype.addEventListeners=function(){t.prototype.addEventListeners.call(this),this.componentInstance.addEventListener("click",this,"onClick")},e.prototype.removeEventListeners=function(){t.prototype.removeEventListeners.call(this),this.componentInstance.removeEventListener("click",this,"onClick")},e.prototype.toString=function(){return"Lotus.ButtonMediator"},e}(r.AbstractMediator);e.ButtonMediator=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype.toString=function(){return"Lotus.ListMediator"},e}(r.AbstractMediator);e.ListMediator=o},function(t,e,n){"use strict";function i(t,e){var n=Reflect.getMetadata("design:type",t,e);n||(n=Reflect.getMetadata("design:type",t.constructor,e)),t.resolveInjections||(t.resolveInjections=new Array),t.resolveInjections.push({property:e,type:n})}function r(t){var e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.getPrototypeOf(this.constructor.prototype).constructor.apply(this,t),console.log("injectable constructor called, attempting to resolve injections: "+this.constructor.prototype),this.resolveInjections&&(console.log("injections found!!!!: "),this.resolveInjections.forEach(function(t,e){var n=this.context.injector.inject(t.type);n&&(this[t.property]=n)}.bind(this))),this};return e.prototype=t.prototype,e}function o(t,e){console.log("bindable decorator called");var n=t[e];if(!t.notify)return void console.log("notify is undefined. please extend Lavender.Subject.");var i=function(){return console.log("Get: ${key} => ${returnValue}"),this["_"+e]},r=function(t){console.log("Set: ${key} => ${newVal}"),this["_"+e]=t,this.notify(t,e)};delete t[e]&&(t["_"+e]=n,Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0}))}Object.defineProperty(e,"__esModule",{value:!0}),n(29),e.inject=i,e.injectable=r,e.bindable=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1),s=n(3),a=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"buttonSkinPart",{get:function(){return this._buttonSkinPart},set:function(t){this._buttonSkinPart=t,this.notify(t,"buttonSkinPart")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.notify(t,"type")},enumerable:!0,configurable:!0}),e.prototype.onClick=function(t){console.log("Lotus.Button.prototype.onClick: event is "+t),console.log("Lotus.Button.prototype.onClick: my id is "+this.id),console.log("Lotus.Button.prototype.onClick: this "+this),this.dispatch(new s.ComponentEvent("click",{target:this.buttonSkinPart,originalEvent:t}))},e.prototype.defineSkinParts=function(){t.prototype.defineSkinParts.call(this),this.skinParts.addItem(new o.SkinPart("button",this,"buttonSkinPart"))},e.prototype.onSkinPartAdded=function(e,n){switch(t.prototype.onSkinPartAdded.call(this,e,n),e){case"button":console.log("Lotus.Button.prototype.onSkinPartAdded: part: "+e),console.log("Lotus.Button.prototype.onSkinPartAdded: skinPart: "+e),this.addEventListeners()}},e.prototype.addEventListeners=function(){t.prototype.addEventListeners.call(this),this.buttonSkinPart.addEventListener("click",this.onClick.bind(this))},e.prototype.removeEventListeners=function(){t.prototype.removeEventListeners.call(this),this.buttonSkinPart.removeEventListener("click",this.onClick)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.buttonSkinPart=null},e}(r.AbstractComponent);e.Button=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=function(t){function e(){return t.call(this)||this}return i(e,t),e}(r.AbstractRecordSetCollectionView);e.ImageGalleryCollectionView=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},set:function(t){this._asset=t,this.notify(t,"asset"),this.render()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nameLabel",{get:function(){return this._nameLabel},set:function(t){this._nameLabel=t,this.notify(t,"nameLabel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateCreatedLabel",{get:function(){return this._dateCreatedLabel},set:function(t){this._dateCreatedLabel=t,this.notify(t,"dateCreatedLabel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlLabel",{get:function(){return this._urlLabel},set:function(t){this._urlLabel=t,this.notify(t,"urlLabel")},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.asset&&this.ready&&(this.nameLabel&&(this.nameLabel.innerHTML=this.asset.objectName),this.dateCreatedLabel&&(this.dateCreatedLabel.innerHTML=this.asset.createdDate.toDateString()),this.urlLabel&&(this.urlLabel.innerHTML=this.asset.url))},e.prototype.defineSkinParts=function(){this.skinParts.addItem(new r.SkinPart("nameLabel",this,"nameLabel")),this.skinParts.addItem(new r.SkinPart("dateCreatedLabel",this,"dateCreatedLabel")),this.skinParts.addItem(new r.SkinPart("urlLabel",this,"urlLabel"))},e.prototype.created=function(e){t.prototype.created.call(this,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.asset=null,this.nameLabel=null,this.dateCreatedLabel=null,this.urlLabel=null},e}(o.AbstractComponent);e.ImageGalleryItemDetail=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=n(1),s=n(3),a=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"itemDetail",{get:function(){return this._itemDetail},set:function(t){this._itemDetail=t,this.notify(t,"itemDetail")},enumerable:!0,configurable:!0}),e.prototype.defineSkinParts=function(){t.prototype.defineSkinParts.call(this),this.skinParts.addItem(new o.SkinPart("itemDetail",this,"itemDetail"))},e.prototype.onSkinPartAdded=function(e,n){switch(t.prototype.onSkinPartAdded.call(this,e,n),e){case"itemDetail":this.model&&(this.itemDetail.lotusComponentInstance.asset=this.model,this.itemDetail.lotusComponentInstance.addEventListener(s.ComponentEvent.READY,this,"onItemDetailReady"))}},e.prototype.onItemDetailReady=function(t){this.model&&(this.itemDetail.lotusComponentInstance.asset=this.model)},e.prototype.onModelChange=function(e){t.prototype.onModelChange.call(this,e),this.itemDetail&&(this.itemDetail.lotusComponentInstance.asset=e)},e.prototype.onDragStart=function(t){if(null!==t.dataTransfer&&void 0!==t.dataTransfer){t.dataTransfer.effectAllowed="all";try{t.dataTransfer.setData("galleryImage",this.model.source)}catch(e){t.dataTransfer.setData("text",this.model.source)}}else{t.originalEvent.dataTransfer.effectAllowed="all";try{t.originalEvent.dataTransfer.setData("galleryImage",this.model.source)}catch(e){t.originalEvent.dataTransfer.setData("text",this.model.source)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.itemDetail&&this.itemDetail.lotusComponentInstance.removeEventListener(s.ComponentEvent.READY,this,"onItemDetailReady"),this.itemDetail=null},e}(r.AbstractThumbnailView);e.ImageGalleryView=a},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(22)),i(n(17)),i(n(18)),i(n(10)),i(n(19)),i(n(9)),i(n(8)),i(n(7)),i(n(3)),i(n(4)),i(n(6)),i(n(16)),i(n(5)),i(n(20)),i(n(21)),i(n(1)),i(n(15)),i(n(2)),i(n(2)),i(n(12)),i(n(11)),i(n(13)),i(n(14)),i(n(23)),i(n(24)),i(n(25)),i(n(26))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=r(s);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var f,d=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||y||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){(function(t,e){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){"use strict";function i(t,e,n,i){if(S(n)){if(!V(t))throw new TypeError;if(!x(e))throw new TypeError;return f(t,e)}if(!V(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(i)&&!S(i)&&!P(i))throw new TypeError;return P(i)&&(i=void 0),n=T(n),d(t,e,n,i)}function r(t,e){function n(n,i){if(!O(n))throw new TypeError;if(!S(i)&&!M(i))throw new TypeError;g(t,e,n,i)}return n}function o(t,e,n,i){if(!O(n))throw new TypeError;return S(i)||(i=T(i)),g(t,e,n,i)}function s(t,e,n){if(!O(e))throw new TypeError;return S(n)||(n=T(n)),v(t,e,n)}function a(t,e,n){if(!O(e))throw new TypeError;return S(n)||(n=T(n)),m(t,e,n)}function c(t,e,n){if(!O(e))throw new TypeError;return S(n)||(n=T(n)),_(t,e,n)}function l(t,e,n){if(!O(e))throw new TypeError;return S(n)||(n=T(n)),b(t,e,n)}function u(t,e){if(!O(t))throw new TypeError;return S(e)||(e=T(e)),w(t,e)}function h(t,e){if(!O(t))throw new TypeError;return S(e)||(e=T(e)),E(t,e)}function p(t,e,n){if(!O(e))throw new TypeError;S(n)||(n=T(n));var i=y(e,n,!1);if(S(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var r=tt.get(e);return r.delete(n),r.size>0||(tt.delete(e),!0)}function f(t,e){for(var n=t.length-1;n>=0;--n){var i=t[n],r=i(e);if(!S(r)&&!P(r)){if(!x(r))throw new TypeError;e=r}}return e}function d(t,e,n,i){for(var r=t.length-1;r>=0;--r){var o=t[r],s=o(e,n,i);if(!S(s)&&!P(s)){if(!O(s))throw new TypeError;i=s}}return i}function y(t,e,n){var i=tt.get(t);if(S(i)){if(!n)return;i=new $,tt.set(t,i)}var r=i.get(e);if(S(r)){if(!n)return;r=new $,i.set(e,r)}return r}function v(t,e,n){if(m(t,e,n))return!0;var i=q(e);return!P(i)&&v(t,i,n)}function m(t,e,n){var i=y(e,n,!1);return!S(i)&&I(i.has(t))}function _(t,e,n){if(m(t,e,n))return b(t,e,n);var i=q(e);return P(i)?void 0:_(t,i,n)}function b(t,e,n){var i=y(e,n,!1);if(!S(i))return i.get(t)}function g(t,e,n,i){y(n,i,!0).set(t,e)}function w(t,e){var n=E(t,e),i=q(t);if(null===i)return n;var r=w(i,e);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new Q,s=[],a=0,c=n;a<c.length;a++){var l=c[a],u=o.has(l);u||(o.add(l),s.push(l))}for(var h=0,p=r;h<p.length;h++){var l=p[h],u=o.has(l);u||(o.add(l),s.push(l))}return s}function E(t,e){var n=[],i=y(t,e,!1);if(S(i))return n;for(var r=i.keys(),o=N(r),s=0;;){var a=H(o);if(!a)return n.length=s,n;var c=R(a);try{n[s]=c}catch(t){try{U(o)}finally{throw t}}s++}}function C(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function S(t){return void 0===t}function P(t){return null===t}function A(t){return"symbol"==typeof t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function L(t,e){switch(C(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=D(t,G);if(void 0!==i){var r=i.call(t,n);if(O(r))throw new TypeError;return r}return k(t,"default"===n?"number":n)}function k(t,e){if("string"===e){var n=t.toString;if(B(n)){var i=n.call(t);if(!O(i))return i}var r=t.valueOf;if(B(r)){var i=r.call(t);if(!O(i))return i}}else{var r=t.valueOf;if(B(r)){var i=r.call(t);if(!O(i))return i}var o=t.toString;if(B(o)){var i=o.call(t);if(!O(i))return i}}throw new TypeError}function I(t){return!!t}function j(t){return""+t}function T(t){var e=L(t,3);return A(e)?e:j(e)}function V(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function B(t){return"function"==typeof t}function x(t){return"function"==typeof t}function M(t){switch(C(t)){case 3:case 4:return!0;default:return!1}}function D(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!B(n))throw new TypeError;return n}}function N(t){var e=D(t,Y);if(!B(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}function R(t){return t.value}function H(t){var e=t.next();return!e.done&&e}function U(t){var e=t.return;e&&e.call(t)}function q(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===X)return e;if(e!==X)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r?e:r===t?e:r}function F(t){return t.__=void 0,delete t.__,t}var W,z=Object.prototype.hasOwnProperty,K="function"==typeof Symbol,G=K&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",Y=K&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";!function(t){var e="function"==typeof Object.create,n={__proto__:[]}instanceof Array,i=!e&&!n;t.create=e?function(){return F(Object.create(null))}:n?function(){return F({__proto__:null})}:function(){return F({})},t.has=i?function(t,e){return z.call(t,e)}:function(t,e){return e in t},t.get=i?function(t,e){return z.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}}(W||(W={}));var X=Object.getPrototypeOf(Function),J="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,$=J||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){function t(t,e){return t}function e(t,e){return e}function n(t,e){return[t,e]}var i={},r=[],o=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[Y]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=r,this._values=r):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=r,this._values=r),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=r,this._values=r),{value:t,done:!0}},t}();return function(){function r(){this._keys=[],this._values=[],this._cacheKey=i,this._cacheIndex=-2}return Object.defineProperty(r.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),r.prototype.has=function(t){return this._find(t,!1)>=0},r.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},r.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},r.prototype.delete=function(t){var e=this._find(t,!1);if(e>=0){for(var n=this._keys.length,r=e+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=i,this._cacheIndex=-2),!0}return!1},r.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=i,this._cacheIndex=-2},r.prototype.keys=function(){return new o(this._keys,this._values,t)},r.prototype.values=function(){return new o(this._keys,this._values,e)},r.prototype.entries=function(){return new o(this._keys,this._values,n)},r.prototype["@@iterator"]=function(){return this.entries()},r.prototype[Y]=function(){return this.entries()},r.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},r}()}():Map,Q=J||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function t(){this._map=new $}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[Y]=function(){return this.keys()},t}()}():Set,Z=J||"function"!=typeof WeakMap?function(){function t(){var t;do{t="@@WeakMap@@"+r()}while(W.has(s,t));return s[t]=!0,t}function e(t,e){if(!z.call(t,a)){if(!e)return;Object.defineProperty(t,a,{value:W.create()})}return t[a]}function n(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function i(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):n(new Uint8Array(t),t):n(new Array(t),t)}function r(){var t=i(o);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<o;++n){var r=t[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}var o=16,s=W.create(),a=t();return function(){function n(){this._key=t()}return n.prototype.has=function(t){var n=e(t,!1);return void 0!==n&&W.has(n,this._key)},n.prototype.get=function(t){var n=e(t,!1);return void 0!==n?W.get(n,this._key):void 0},n.prototype.set=function(t,n){return e(t,!0)[this._key]=n,this},n.prototype.delete=function(t){var n=e(t,!1);return void 0!==n&&delete n[this._key]},n.prototype.clear=function(){this._key=t()},n}()}():WeakMap,tt=new Z;n.decorate=i,n.metadata=r,n.defineMetadata=o,n.hasMetadata=s,n.hasOwnMetadata=a,n.getMetadata=c,n.getOwnMetadata=l,n.getMetadataKeys=u,n.getOwnMetadataKeys=h,n.deleteMetadata=p,function(t){if(void 0!==t.Reflect){if(t.Reflect!==n)for(var e in n)z.call(n,e)&&(t.Reflect[e]=n[e])}else t.Reflect=n}(void 0!==e?e:"undefined"!=typeof self?self:Function("return this;")())}(n||(n={}))}).call(e,n(28),n(30))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});
//# sourceMappingURL=lotusjs-mvw-UMD.min.js.map